{"version":3,"file":"whyDidYouRender.min.js.map","sources":["../../src/consts.js","../../src/defaultNotifier.js","../../src/normalizeOptions.js","../../src/getDisplayName.js","../../src/calculateDeepEqualDiffs.js","../../src/findObjectsDifferences.js","../../src/getUpdateInfo.js","../../src/shouldTrack.js","../../src/utils.js","../../src/patches/patchClassComponent.js","../../src/patches/patchFunctionalComponent.js","../../src/patches/patchMemoComponent.js","../../src/patches/patchForwardRefComponent.js","../../src/whyDidYouRender.js","../../src/index.js"],"sourcesContent":["export const diffTypes = {\r\n  'different': 'different',\r\n  'deepEquals': 'deepEquals',\r\n  'date': 'date',\r\n  'regex': 'regex',\r\n  'reactElement': 'reactElement',\r\n  'function': 'function'\r\n}\r\n\r\n// copied from packages/shared/ReactSymbols.js in https://github.com/facebook/react\r\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for\r\nexport const REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3\r\nexport const REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0\r\n","import {diffTypes} from './consts'\r\n\r\nconst moreInfoUrl = 'http://bit.ly/wdyr02'\r\nconst moreInfoHooksUrl = 'http://bit.ly/wdyr3'\r\n\r\nconst diffTypesDescriptions = {\r\n  [diffTypes.different]: 'different objects.',\r\n  [diffTypes.deepEquals]: 'different objects that are equal by value.',\r\n  [diffTypes.date]: 'different date objects with the same value.',\r\n  [diffTypes.regex]: 'different regular expressions with the same value.',\r\n  [diffTypes.reactElement]: 'different React elements with the same displayName.',\r\n  [diffTypes.function]: 'different functions with the same name.'\r\n}\r\n\r\nlet inHotReload = false\r\n\r\nfunction shouldLog(reason, Component, options){\r\n  if(inHotReload){\r\n    return false\r\n  }\r\n\r\n  if(options.logOnDifferentValues){\r\n    return true\r\n  }\r\n\r\n  if(Component.whyDidYouRender && Component.whyDidYouRender.logOnDifferentValues){\r\n    return true\r\n  }\r\n\r\n  const hasDifferentValues = ((\r\n    reason.propsDifferences &&\r\n    reason.propsDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ) || (\r\n    reason.stateDifferences &&\r\n    reason.stateDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ) || (\r\n    reason.hookDifferences &&\r\n    reason.hookDifferences.some(diff => diff.diffType === diffTypes.different)\r\n  ))\r\n\r\n  return !hasDifferentValues\r\n}\r\n\r\nfunction logDifference({Component, displayName, hookName, prefixMessage, diffObjType, differences, values, options}){\r\n  if(differences && differences.length > 0){\r\n    options.consoleLog({[displayName]: Component}, `${prefixMessage} of ${diffObjType} changes:`)\r\n    differences.forEach(({pathString, diffType, prevValue, nextValue}) => {\r\n      options.consoleGroup(\r\n        `%c${diffObjType === 'hook' ? `[hook ${hookName} result]` : `${diffObjType}.`}%c${pathString}%c`,\r\n        `color:${options.diffNameColor};`, `color:${options.diffPathColor};`, 'color:default;'\r\n      )\r\n      options.consoleLog(\r\n        `${diffTypesDescriptions[diffType]} (more info at ${hookName ? moreInfoHooksUrl : moreInfoUrl})`,\r\n      )\r\n      options.consoleLog({[`prev ${pathString}`]: prevValue}, '!==', {[`next ${pathString}`]: nextValue})\r\n      options.consoleGroupEnd()\r\n    })\r\n  }\r\n  else if(differences){\r\n    options.consoleLog(\r\n      {[displayName]: Component},\r\n      `${prefixMessage} the ${diffObjType} object itself changed but its values are all equal.`,\r\n      diffObjType === 'props' ?\r\n        'This could have been avoided by making the component pure, or by preventing its father from re-rendering.' :\r\n        'This usually means this component called setState when no changes in its state actually occurred.',\r\n      `More info at ${moreInfoUrl}`\r\n    )\r\n    options.consoleLog(`prev ${diffObjType}:`, values.prev, ' !== ', values.next, `:next ${diffObjType}`)\r\n  }\r\n}\r\n\r\nexport default function defaultNotifier(updateInfo){\r\n  const {Component, displayName, hookName, prevProps, prevState, prevHook, nextProps, nextState, nextHook, reason, options} = updateInfo\r\n\r\n  if(!shouldLog(reason, Component, options)){\r\n    return\r\n  }\r\n\r\n  options.consoleGroup(`%c${displayName}`, `color: ${options.titleColor};`)\r\n\r\n  let prefixMessage = 'Re-rendered because'\r\n\r\n  if(reason.propsDifferences){\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'props',\r\n      differences: reason.propsDifferences,\r\n      values: {prev: prevProps, next: nextProps},\r\n      options\r\n    })\r\n    prefixMessage = 'And because'\r\n  }\r\n\r\n  if(reason.stateDifferences){\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'state',\r\n      differences: reason.stateDifferences,\r\n      values: {prev: prevState, next: nextState},\r\n      options\r\n    })\r\n  }\r\n\r\n  if(reason.hookDifferences){\r\n    logDifference({\r\n      Component,\r\n      displayName,\r\n      prefixMessage,\r\n      diffObjType: 'hook',\r\n      differences: reason.hookDifferences,\r\n      values: {prev: prevHook, next: nextHook},\r\n      hookName,\r\n      options\r\n    })\r\n  }\r\n\r\n  if(!reason.propsDifferences && !reason.stateDifferences && !reason.hookDifferences){\r\n    options.consoleLog(\r\n      {[displayName]: Component},\r\n      'Re-rendered although props and state objects are the same.',\r\n      'This usually means there was a call to this.forceUpdate() inside the component.',\r\n      `more info at ${moreInfoUrl}`\r\n    )\r\n  }\r\n\r\n  options.consoleGroupEnd()\r\n}\r\n\r\nexport function createDefaultNotifier(hotReloadBufferMs){\r\n  if(hotReloadBufferMs){\r\n    if(module && module.hot && module.hot.addStatusHandler){\r\n      module.hot.addStatusHandler(status => {\r\n        if(status === 'idle'){\r\n          inHotReload = true\r\n          setTimeout(() => {\r\n            inHotReload = false\r\n          }, hotReloadBufferMs)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return defaultNotifier\r\n}\r\n","/* eslint-disable no-console */\r\nimport {createDefaultNotifier} from './defaultNotifier'\r\n\r\nconst emptyFn = () => {}\r\n\r\nexport default function normalizeOptions(userOptions = {}){\r\n  let consoleGroup = console.group\r\n  let consoleGroupEnd = console.groupEnd\r\n\r\n  if(userOptions.collapseGroups){\r\n    consoleGroup = console.groupCollapsed\r\n  }\r\n  else if(userOptions.onlyLogs){\r\n    consoleGroup = console.log\r\n    consoleGroupEnd = emptyFn\r\n  }\r\n\r\n  const notifier = userOptions.notifier || (\r\n    createDefaultNotifier(\r\n      ('hotReloadBufferMs' in userOptions) ? userOptions.hotReloadBufferMs : 500\r\n    )\r\n  )\r\n\r\n  return {\r\n    include: null,\r\n    exclude: null,\r\n    notifier,\r\n    onlyLogs: false,\r\n    consoleLog: console.log,\r\n    consoleGroup,\r\n    consoleGroupEnd,\r\n    logOnDifferentValues: false,\r\n    trackHooks: true,\r\n    titleColor: '#058',\r\n    diffNameColor: 'blue',\r\n    diffPathColor: 'red',\r\n    ...userOptions\r\n  }\r\n}\r\n","import {isString} from 'lodash'\r\n\r\nexport default function getDisplayName(type){\r\n  return (\r\n    type.displayName ||\r\n    type.name ||\r\n    (type.type && getDisplayName(type.type)) ||\r\n    (type.render && getDisplayName(type.render)) ||\r\n    (isString(type) ? type : undefined)\r\n  )\r\n}\r\n","import {isArray, isPlainObject, isDate, isRegExp, isFunction, keys as getKeys, has} from 'lodash'\r\nimport {diffTypes} from './consts'\r\n\r\nconst hasElementType = typeof Element !== 'undefined'\r\n\r\n// copied from https://github.com/facebook/react/packages/shared/ReactSymbols.js\r\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for\r\nconst REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7\r\nconst isReactElement = object => object.$$typeof === REACT_ELEMENT_TYPE\r\n// end\r\n\r\nfunction trackDiff(a, b, diffsAccumulator, pathString, diffType){\r\n  diffsAccumulator.push({\r\n    diffType,\r\n    pathString,\r\n    prevValue: a,\r\n    nextValue: b\r\n  })\r\n  return diffType !== diffTypes.different\r\n}\r\n\r\nfunction accumulateDeepEqualDiffs(a, b, diffsAccumulator, pathString = ''){\r\n  if(a === b){\r\n    return true\r\n  }\r\n\r\n  if(!a || !b){\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isArray(a) && isArray(b)){\r\n    const length = a.length\r\n    if(length !== b.length){\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    let allChildrenDeepEqual = true\r\n    for(let i = length; i-- !== 0;){\r\n      if(!accumulateDeepEqualDiffs(a[i], b[i], diffsAccumulator, `${pathString}[${i}]`)){\r\n        allChildrenDeepEqual = false\r\n      }\r\n    }\r\n\r\n    return allChildrenDeepEqual ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.deepEquals) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isDate(a) && isDate(b)){\r\n    return a.getTime() === b.getTime() ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.date) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isRegExp(a) && isRegExp(b)){\r\n    return a.toString() === b.toString() ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.regex) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(hasElementType && a instanceof Element && b instanceof Element){\r\n    return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isReactElement(a) && isReactElement(b)){\r\n    if(a.type !== b.type){\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    else{\r\n      const reactElementPropsAreDeepEqual =\r\n        accumulateDeepEqualDiffs(a.props, b.props, diffsAccumulator, `${pathString}.props`)\r\n\r\n      return reactElementPropsAreDeepEqual ?\r\n        trackDiff(a, b, diffsAccumulator, pathString, diffTypes.reactElement) :\r\n        trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n  }\r\n\r\n  if(isFunction(a) && isFunction(b)){\r\n    return a.name === b.name ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.function) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  if(isPlainObject(a) && isPlainObject(b)){\r\n    const keys = getKeys(a)\r\n    const length = keys.length\r\n    if(length !== getKeys(b).length){\r\n      return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n    }\r\n\r\n    for(let i = length; i-- !== 0;){\r\n      if(!has(b, keys[i])){\r\n        return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n      }\r\n    }\r\n\r\n    let allChildrenDeepEqual = true\r\n    for(let i = length; i-- !== 0;){\r\n      const key = keys[i]\r\n      if(!accumulateDeepEqualDiffs(a[key], b[key], diffsAccumulator, `${pathString}.${key}`)){\r\n        allChildrenDeepEqual = false\r\n      }\r\n    }\r\n\r\n    return allChildrenDeepEqual ?\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.deepEquals) :\r\n      trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n  }\r\n\r\n  return trackDiff(a, b, diffsAccumulator, pathString, diffTypes.different)\r\n}\r\n\r\nexport default function calculateDeepEqualDiffs(a, b, initialPathString){\r\n  try{\r\n    const diffs = []\r\n    accumulateDeepEqualDiffs(a, b, diffs, initialPathString)\r\n    return diffs\r\n  }catch(error){\r\n    if((error.message && error.message.match(/stack|recursion/i)) || (error.number === -2146828260)){\r\n      // warn on circular references, don't crash.\r\n      // browsers throw different errors name and messages:\r\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\r\n      // firefox: \"InternalError\", too much recursion\"\r\n      // edge: \"Error\", \"Out of stack space\"\r\n      // eslint-disable-next-line no-console\r\n      console.warn('Warning: why-did-you-render couldn\\'t handle circular references in props.', error.name, error.message)\r\n      return false\r\n    }\r\n    throw error\r\n  }\r\n}\r\n","import {reduce} from 'lodash'\r\nimport calculateDeepEqualDiffs from './calculateDeepEqualDiffs'\r\n\r\nconst emptyObject = {}\r\n\r\nexport default function findObjectsDifferences(userPrevObj, userNextObj, {shallow = true} = {}){\r\n  if(userPrevObj === userNextObj){\r\n    return false\r\n  }\r\n\r\n  if(!shallow){\r\n    return calculateDeepEqualDiffs(userPrevObj, userNextObj)\r\n  }\r\n\r\n  const prevObj = userPrevObj || emptyObject\r\n  const nextObj = userNextObj || emptyObject\r\n\r\n  const keysOfBothObjects = Object.keys({...prevObj, ...nextObj})\r\n\r\n  return reduce(keysOfBothObjects, (result, key) => {\r\n    const deepEqualDiffs = calculateDeepEqualDiffs(prevObj[key], nextObj[key], key)\r\n    if(deepEqualDiffs){\r\n      result = [\r\n        ...result,\r\n        ...deepEqualDiffs\r\n      ]\r\n    }\r\n    return result\r\n  }, [])\r\n}\r\n","import findObjectsDifferences from './findObjectsDifferences'\r\n\r\nfunction getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook){\r\n  return {\r\n    propsDifferences: findObjectsDifferences(prevProps, nextProps),\r\n    stateDifferences: findObjectsDifferences(prevState, nextState),\r\n    hookDifferences: findObjectsDifferences(prevHook, nextHook, {shallow: false})\r\n  }\r\n}\r\n\r\nexport default function getUpdateInfo({Component, displayName, hookName, prevProps, prevState, prevHook, nextProps, nextState, nextHook, options}){\r\n  return {\r\n    Component,\r\n    displayName,\r\n    hookName,\r\n    prevProps,\r\n    prevState,\r\n    prevHook,\r\n    nextProps,\r\n    nextState,\r\n    nextHook,\r\n    options,\r\n    reason: getUpdateReason(prevProps, prevState, prevHook, nextProps, nextState, nextHook)\r\n  }\r\n}\r\n","function shouldInclude(displayName, options){\r\n  return (\r\n    options.include &&\r\n    options.include.length > 0 &&\r\n    options.include.some(regex => regex.test(displayName))\r\n  )\r\n}\r\n\r\nfunction shouldExclude(displayName, options){\r\n  return (\r\n    options.exclude &&\r\n    options.exclude.length > 0 &&\r\n    options.exclude.some(regex => regex.test(displayName))\r\n  )\r\n}\r\n\r\nexport default function shouldTrack(Component, displayName, options){\r\n  if(shouldExclude(displayName, options)){\r\n    return false\r\n  }\r\n\r\n  return !!(\r\n    Component.whyDidYouRender ||\r\n    shouldInclude(displayName, options)\r\n  )\r\n}\r\n","// copied from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactTypeOfMode.js\r\nconst StrictMode = 0b010\r\n\r\n// based on \"findStrictRoot\" from https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactStrictModeWarnings.js\r\n// notice: this is only used for class components. functional components doesn't re-rendered inside strict mode\r\nexport function checkIfInsideAStrictModeTree(reactComponentInstance){\r\n  let reactInternalFiber = reactComponentInstance._reactInternalFiber\r\n  while(reactInternalFiber){\r\n    if(reactInternalFiber.mode & StrictMode){\r\n      return true\r\n    }\r\n    reactInternalFiber = reactInternalFiber.return\r\n  }\r\n  return false\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport {checkIfInsideAStrictModeTree} from '../utils'\r\nimport getUpdateInfo from '../getUpdateInfo'\r\n\r\nexport default function patchClassComponent(ClassComponent, displayName, React, options){\r\n  class WDYRPatchedClassComponent extends ClassComponent{\r\n    constructor(props, context){\r\n      super(props, context)\r\n\r\n      this._WDYR = {\r\n        renderNumber: 0\r\n      }\r\n\r\n      const origRender = super.render || this.render\r\n      // this probably means render is an arrow function or this.render.bind(this) was called on the original class\r\n      const renderIsABindedFunction = origRender !== ClassComponent.prototype.render\r\n      if(renderIsABindedFunction){\r\n        this.render = () => {\r\n          WDYRPatchedClassComponent.prototype.render.apply(this)\r\n          return origRender()\r\n        }\r\n      }\r\n    }\r\n    render(){\r\n      this._WDYR.renderNumber++\r\n\r\n      if(!('isStrictMode' in this._WDYR)){\r\n        this._WDYR.isStrictMode = checkIfInsideAStrictModeTree(this)\r\n      }\r\n\r\n      // in strict mode- ignore every other render\r\n      if(!(this._WDYR.isStrictMode && this._WDYR.renderNumber % 2 === 1)){\r\n        if(this._WDYR.prevProps){\r\n          options.notifier(getUpdateInfo({\r\n            Component: ClassComponent,\r\n            displayName,\r\n            prevProps: this._WDYR.prevProps,\r\n            prevState: this._WDYR.prevState,\r\n            nextProps: this.props,\r\n            nextState: this.state,\r\n            options\r\n          }))\r\n        }\r\n\r\n        this._WDYR.prevProps = this.props\r\n        this._WDYR.prevState = this.state\r\n      }\r\n\r\n      return super.render ? super.render() : null\r\n    }\r\n  }\r\n\r\n  WDYRPatchedClassComponent.displayName = displayName\r\n  defaults(WDYRPatchedClassComponent, ClassComponent)\r\n\r\n  return WDYRPatchedClassComponent\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport getUpdateInfo from '../getUpdateInfo'\r\n\r\nexport default function patchFunctionalComponent(FunctionalComponent, displayName, React, options){\r\n  function WDYRFunctionalComponent(nextProps){\r\n    const ref = React.useRef()\r\n\r\n    const prevProps = ref.current\r\n    ref.current = nextProps\r\n\r\n    if(prevProps){\r\n      const notification = getUpdateInfo({\r\n        Component: FunctionalComponent,\r\n        displayName,\r\n        prevProps,\r\n        nextProps,\r\n        options\r\n      })\r\n\r\n      // if a functional component re-rendered without a props change\r\n      // it was probably caused by a hook and we should not care about it\r\n      if(notification.reason.propsDifferences){\r\n        options.notifier(notification)\r\n      }\r\n    }\r\n\r\n    return FunctionalComponent(nextProps)\r\n  }\r\n\r\n  WDYRFunctionalComponent.displayName = displayName\r\n  WDYRFunctionalComponent.ComponentForHooksTracking = FunctionalComponent\r\n  defaults(WDYRFunctionalComponent, FunctionalComponent)\r\n\r\n  return WDYRFunctionalComponent\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport getUpdateInfo from '../getUpdateInfo'\r\nimport getDisplayName from '../getDisplayName'\r\n\r\nimport {REACT_FORWARD_REF_TYPE} from '../consts'\r\n\r\nexport default function patchMemoComponent(MemoComponent, displayName, React, options){\r\n  const {type: InnerMemoComponent} = MemoComponent\r\n\r\n  const isInnerMemoComponentForwardRefs = InnerMemoComponent.$$typeof === REACT_FORWARD_REF_TYPE\r\n  const WrappedFunctionalComponent = isInnerMemoComponentForwardRefs ? InnerMemoComponent.render : InnerMemoComponent\r\n\r\n  function WDYRWrappedByMemoFunctionalComponent(){\r\n    const nextProps = arguments[0]\r\n    const ref = React.useRef()\r\n\r\n    const prevProps = ref.current\r\n    ref.current = nextProps\r\n\r\n    if(prevProps){\r\n      const notification = getUpdateInfo({\r\n        Component: MemoComponent,\r\n        displayName,\r\n        prevProps,\r\n        nextProps,\r\n        options\r\n      })\r\n\r\n      // if a memoized functional component re-rendered without props change / prop values change\r\n      // it was probably caused by a hook and we should not care about it\r\n      if(notification.reason.propsDifferences && notification.reason.propsDifferences.length > 0){\r\n        options.notifier(notification)\r\n      }\r\n    }\r\n\r\n    return WrappedFunctionalComponent(...arguments)\r\n  }\r\n\r\n  WDYRWrappedByMemoFunctionalComponent.displayName = getDisplayName(WrappedFunctionalComponent)\r\n  WDYRWrappedByMemoFunctionalComponent.ComponentForHooksTracking = MemoComponent\r\n  defaults(WDYRWrappedByMemoFunctionalComponent, WrappedFunctionalComponent)\r\n\r\n  const WDYRMemoizedFunctionalComponent = React.memo(\r\n    isInnerMemoComponentForwardRefs ? React.forwardRef(WDYRWrappedByMemoFunctionalComponent) : WDYRWrappedByMemoFunctionalComponent,\r\n    MemoComponent.compare\r\n  )\r\n\r\n  WDYRMemoizedFunctionalComponent.displayName = displayName\r\n  defaults(WDYRMemoizedFunctionalComponent, MemoComponent)\r\n\r\n  return WDYRMemoizedFunctionalComponent\r\n}\r\n","import {defaults} from 'lodash'\r\n\r\nimport getUpdateInfo from '../getUpdateInfo'\r\nimport getDisplayName from '../getDisplayName'\r\nimport {REACT_MEMO_TYPE} from '../consts'\r\n\r\nexport default function patchForwardRefComponent(ForwardRefComponent, displayName, React, options){\r\n  const {render: InnerForwardRefComponent} = ForwardRefComponent\r\n\r\n  const isInnerComponentMemoized = InnerForwardRefComponent.$$typeof === REACT_MEMO_TYPE\r\n  const WrappedFunctionalComponent = isInnerComponentMemoized ? InnerForwardRefComponent.type : InnerForwardRefComponent\r\n\r\n  function WDYRWrappedByReactForwardRefFunctionalComponent(){\r\n    const nextProps = arguments[0]\r\n    const ref = React.useRef()\r\n\r\n    const prevProps = ref.current\r\n    ref.current = nextProps\r\n\r\n    if(prevProps){\r\n      const notification = getUpdateInfo({\r\n        Component: ForwardRefComponent,\r\n        displayName,\r\n        prevProps,\r\n        nextProps,\r\n        options\r\n      })\r\n\r\n      // if a memoized functional component re-rendered without props change / prop values change\r\n      // it was probably caused by a hook and we should not care about it\r\n      if(notification.reason.propsDifferences && notification.reason.propsDifferences.length > 0){\r\n        options.notifier(notification)\r\n      }\r\n    }\r\n\r\n    return WrappedFunctionalComponent(...arguments)\r\n  }\r\n\r\n  WDYRWrappedByReactForwardRefFunctionalComponent.displayName = getDisplayName(WrappedFunctionalComponent)\r\n  WDYRWrappedByReactForwardRefFunctionalComponent.ComponentForHooksTracking = WrappedFunctionalComponent\r\n  defaults(WDYRWrappedByReactForwardRefFunctionalComponent, WrappedFunctionalComponent)\r\n\r\n  const WDYRForwardRefFunctionalComponent = React.forwardRef(\r\n    isInnerComponentMemoized ?\r\n      React.memo(WDYRWrappedByReactForwardRefFunctionalComponent, InnerForwardRefComponent.compare) :\r\n      WDYRWrappedByReactForwardRefFunctionalComponent\r\n  )\r\n\r\n  WDYRForwardRefFunctionalComponent.displayName = displayName\r\n  defaults(WDYRForwardRefFunctionalComponent, ForwardRefComponent)\r\n\r\n  return WDYRForwardRefFunctionalComponent\r\n}\r\n","import {get, mapValues} from 'lodash'\r\n\r\nimport normalizeOptions from './normalizeOptions'\r\nimport getDisplayName from './getDisplayName'\r\nimport getUpdateInfo from './getUpdateInfo'\r\nimport shouldTrack from './shouldTrack'\r\n\r\nimport patchClassComponent from './patches/patchClassComponent'\r\nimport patchFunctionalComponent from './patches/patchFunctionalComponent'\r\nimport patchMemoComponent from './patches/patchMemoComponent'\r\nimport patchForwardRefComponent from './patches/patchForwardRefComponent'\r\n\r\nimport {REACT_MEMO_TYPE, REACT_FORWARD_REF_TYPE} from './consts'\r\n\r\nfunction trackHookChanges(hookName, {path: hookPath}, hookResult, React, options){\r\n  const nextHook = hookResult\r\n\r\n  const ComponentHookDispatchedFromInstance = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current\r\n\r\n  if(!ComponentHookDispatchedFromInstance){\r\n    return nextHook\r\n  }\r\n\r\n  const Component = ComponentHookDispatchedFromInstance.type.ComponentForHooksTracking || ComponentHookDispatchedFromInstance.type\r\n  const displayName = getDisplayName(Component)\r\n\r\n  const isShouldTrack = shouldTrack(Component, displayName, options)\r\n  if(!isShouldTrack){\r\n    return nextHook\r\n  }\r\n\r\n  const ref = React.useRef()\r\n  const prevHook = ref.current\r\n  ref.current = nextHook\r\n\r\n  if(prevHook){\r\n    const notification = getUpdateInfo({\r\n      Component: Component,\r\n      displayName,\r\n      hookName,\r\n      prevHook: hookPath ? get(prevHook, hookPath) : prevHook,\r\n      nextHook: hookPath ? get(nextHook, hookPath) : nextHook,\r\n      options\r\n    })\r\n\r\n    if(notification.reason.hookDifferences){\r\n      options.notifier(notification)\r\n    }\r\n  }\r\n\r\n  return ref.current\r\n}\r\n\r\nfunction createPatchedComponent(componentsMap, Component, displayName, React, options){\r\n  if(Component.$$typeof === REACT_MEMO_TYPE){\r\n    return patchMemoComponent(Component, displayName, React, options)\r\n  }\r\n\r\n  if(Component.$$typeof === REACT_FORWARD_REF_TYPE){\r\n    return patchForwardRefComponent(Component, displayName, React, options)\r\n  }\r\n\r\n  if(Component.prototype && Component.prototype.isReactComponent){\r\n    return patchClassComponent(Component, displayName, React, options)\r\n  }\r\n\r\n  return patchFunctionalComponent(Component, displayName, React, options)\r\n}\r\n\r\nfunction getPatchedComponent(componentsMap, Component, displayName, React, options){\r\n  if(componentsMap.has(Component)){\r\n    return componentsMap.get(Component)\r\n  }\r\n\r\n  const WDYRPatchedComponent = createPatchedComponent(componentsMap, Component, displayName, React, options)\r\n\r\n  componentsMap.set(Component, WDYRPatchedComponent)\r\n  return WDYRPatchedComponent\r\n}\r\n\r\nexport const hooksConfig = {\r\n  useState: {path: '0'},\r\n  useReducer: {path: '0'},\r\n  useContext: true,\r\n  useMemo: true\r\n}\r\n\r\nexport default function whyDidYouRender(React, userOptions){\r\n  const options = normalizeOptions(userOptions)\r\n\r\n  const origCreateElement = React.createElement\r\n  const origCreateFactory = React.createFactory\r\n\r\n  let componentsMap = new WeakMap()\r\n\r\n  React.createElement = function(componentNameOrComponent, ...rest){\r\n    let isShouldTrack = null\r\n    let displayName = null\r\n    let WDYRPatchedComponent = null\r\n\r\n    try{\r\n      isShouldTrack = (\r\n        (\r\n          typeof componentNameOrComponent === 'function' ||\r\n          componentNameOrComponent.$$typeof === REACT_MEMO_TYPE ||\r\n          componentNameOrComponent.$$typeof === REACT_FORWARD_REF_TYPE\r\n        ) &&\r\n        shouldTrack(componentNameOrComponent, getDisplayName(componentNameOrComponent), options)\r\n      )\r\n\r\n      if(isShouldTrack){\r\n        displayName = (\r\n          componentNameOrComponent &&\r\n          componentNameOrComponent.whyDidYouRender &&\r\n          componentNameOrComponent.whyDidYouRender.customName ||\r\n          getDisplayName(componentNameOrComponent)\r\n        )\r\n\r\n        WDYRPatchedComponent = getPatchedComponent(componentsMap, componentNameOrComponent, displayName, React, options)\r\n        return origCreateElement.apply(React, [WDYRPatchedComponent, ...rest])\r\n      }\r\n    }\r\n    catch(e){\r\n      options.consoleLog('whyDidYouRender error. Please file a bug at https://github.com/welldone-software/why-did-you-render/issues.', {\r\n        errorInfo: {\r\n          error: e,\r\n          componentNameOrComponent,\r\n          rest,\r\n          options,\r\n          isShouldTrack,\r\n          displayName,\r\n          WDYRPatchedComponent\r\n        }\r\n      })\r\n    }\r\n\r\n    return origCreateElement.apply(React, [componentNameOrComponent, ...rest])\r\n  }\r\n\r\n  Object.assign(React.createElement, origCreateElement)\r\n\r\n  React.createFactory = type => {\r\n    const factory = React.createElement.bind(null, type)\r\n    factory.type = type\r\n    return factory\r\n  }\r\n\r\n  Object.assign(React.createFactory, origCreateFactory)\r\n\r\n  let origHooks\r\n\r\n  if(options.trackHooks){\r\n    const patchedHooks = mapValues(hooksConfig, (hookConfig, hookName) => {\r\n      return (...args) => {\r\n        const origHook = origHooks[hookName]\r\n        if(!origHook){\r\n          throw new Error('[WhyDidYouRender] A problem with React Hooks patching occurred.')\r\n        }\r\n        const hookResult = origHook(...args)\r\n        if(hookConfig){\r\n          trackHookChanges(hookName, hookConfig === true ? {} : hookConfig, hookResult, React, options)\r\n        }\r\n        return hookResult\r\n      }\r\n    })\r\n\r\n    Object.defineProperty(\r\n      React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher,\r\n      'current',\r\n      {\r\n        set(newHooks){\r\n          origHooks = newHooks && {\r\n            ...newHooks,\r\n            ...newHooks.origHooks\r\n          }\r\n        },\r\n        get(){\r\n          return origHooks && {\r\n            ...origHooks,\r\n            ...patchedHooks,\r\n            origHooks\r\n          }\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  React.__REVERT_WHY_DID_YOU_RENDER__ = () => {\r\n    Object.assign(React, {\r\n      createElement: origCreateElement,\r\n      createFactory: origCreateFactory\r\n    })\r\n    componentsMap = null\r\n    Object.defineProperty(\r\n      React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher,\r\n      'current',\r\n      {\r\n        writable: true,\r\n        value: origHooks\r\n      }\r\n    )\r\n    delete React.__REVERT_WHY_DID_YOU_RENDER__\r\n  }\r\n\r\n  return React\r\n}\r\n","import whyDidYouRender from './whyDidYouRender'\r\nimport defaultNotifier from './defaultNotifier'\r\n\r\nwhyDidYouRender.defaultNotifier = defaultNotifier\r\nexport default whyDidYouRender\r\n"],"names":["diffTypes","hasSymbol","Symbol","REACT_MEMO_TYPE","REACT_FORWARD_REF_TYPE","moreInfoUrl","moreInfoHooksUrl","diffTypesDescriptions","different","deepEquals","date","regex","reactElement","inHotReload","shouldLog","reason","Component","options","logOnDifferentValues","whyDidYouRender","propsDifferences","some","diff","diffType","stateDifferences","hookDifferences","logDifference","displayName","hookName","prefixMessage","diffObjType","differences","values","length","consoleLog","forEach","pathString","prevValue","nextValue","consoleGroup","diffNameColor","diffPathColor","consoleGroupEnd","prev","next","defaultNotifier","updateInfo","prevProps","prevState","prevHook","nextProps","nextState","nextHook","titleColor","createDefaultNotifier","hotReloadBufferMs","module","hot","addStatusHandler","status","setTimeout","emptyFn","normalizeOptions","userOptions","console","group","groupEnd","collapseGroups","groupCollapsed","onlyLogs","log","include","exclude","notifier","trackHooks","getDisplayName","type","name","render","_isString","undefined","hasElementType","Element","REACT_ELEMENT_TYPE","isReactElement","object","$$typeof","trackDiff","a","b","diffsAccumulator","push","accumulateDeepEqualDiffs","_isArray","allChildrenDeepEqual","i","_isDate","getTime","_isRegExp","toString","props","_isFunction","_isPlainObject","keys","_keys","_has","key","calculateDeepEqualDiffs","initialPathString","diffs","error","message","match","number","warn","emptyObject","findObjectsDifferences","userPrevObj","userNextObj","shallow","prevObj","nextObj","keysOfBothObjects","Object","_reduce","result","deepEqualDiffs","getUpdateReason","getUpdateInfo","shouldInclude","test","shouldExclude","shouldTrack","StrictMode","checkIfInsideAStrictModeTree","reactComponentInstance","reactInternalFiber","_reactInternalFiber","mode","patchClassComponent","ClassComponent","React","WDYRPatchedClassComponent","context","_WDYR","renderNumber","origRender","_get","_this","prototype","apply","this","isStrictMode","state","patchFunctionalComponent","FunctionalComponent","WDYRFunctionalComponent","ref","useRef","current","notification","ComponentForHooksTracking","patchMemoComponent","MemoComponent","InnerMemoComponent","isInnerMemoComponentForwardRefs","WrappedFunctionalComponent","WDYRWrappedByMemoFunctionalComponent","arguments","WDYRMemoizedFunctionalComponent","memo","forwardRef","compare","patchForwardRefComponent","ForwardRefComponent","InnerForwardRefComponent","isInnerComponentMemoized","WDYRWrappedByReactForwardRefFunctionalComponent","WDYRForwardRefFunctionalComponent","trackHookChanges","hookResult","hookPath","path","ComponentHookDispatchedFromInstance","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","createPatchedComponent","componentsMap","isReactComponent","getPatchedComponent","has","get","WDYRPatchedComponent","set","hooksConfig","useState","useReducer","useContext","useMemo","origHooks","origCreateElement","createElement","origCreateFactory","createFactory","WeakMap","componentNameOrComponent","isShouldTrack","rest","customName","e","errorInfo","assign","factory","bind","patchedHooks","_mapValues","hookConfig","origHook","Error","defineProperty","ReactCurrentDispatcher","newHooks","__REVERT_WHY_DID_YOU_RENDER__","writable","value"],"mappings":"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"}