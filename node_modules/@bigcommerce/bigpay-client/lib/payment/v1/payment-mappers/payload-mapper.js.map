{"version":3,"sources":["../../../../src/payment/v1/payment-mappers/payload-mapper.js"],"names":["PayloadMapper","customerMapper","CustomerMapper","create","orderMapper","OrderMapper","paymentMapper","PaymentMapper","storeMapper","StoreMapper","data","order","additionalAction","customer","mapToCustomer","notify_url","callbackUrl","mapToOrder","payment","mapToPayment","store","mapToStore","additional_action","authToken","Authorization"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;IAEqBA,a;;;;AACjB;AACJ;AACA;6BACoB;AACZ,UAAMC,cAAc,GAAGC,wBAAeC,MAAf,EAAvB;;AACA,UAAMC,WAAW,GAAGC,qBAAYF,MAAZ,EAApB;;AACA,UAAMG,aAAa,GAAGC,uBAAcJ,MAAd,EAAtB;;AACA,UAAMK,WAAW,GAAGC,qBAAYN,MAAZ,EAApB;;AAEA,aAAO,IAAIH,aAAJ,CAAkBC,cAAlB,EAAkCG,WAAlC,EAA+CE,aAA/C,EAA8DE,WAA9D,CAAP;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;;;;AACI,yBAAYP,cAAZ,EAA4BG,WAA5B,EAAyCE,aAAzC,EAAwDE,WAAxD,EAAqE;AAAA;;AACjE;AACR;AACA;AACA;AACQ,SAAKP,cAAL,GAAsBA,cAAtB;AAEA;AACR;AACA;AACA;;AACQ,SAAKG,WAAL,GAAmBA,WAAnB;AAEA;AACR;AACA;AACA;;AACQ,SAAKE,aAAL,GAAqBA,aAArB;AAEA;AACR;AACA;AACA;;AACQ,SAAKE,WAAL,GAAmBA,WAAnB;AACH;AAED;AACJ;AACA;AACA;;;;;iCACiBE,I,EAAM;AAAA,wBAC0BA,IAD1B,CACPC,KADO;AAAA,UACPA,KADO,4BACC,EADD;AAAA,UACKC,gBADL,GAC0BF,IAD1B,CACKE,gBADL;AAGf,aAAO,oBAAQ;AACXC,QAAAA,QAAQ,EAAE,KAAKZ,cAAL,CAAoBa,aAApB,CAAkCJ,IAAlC,CADC;AAEXK,QAAAA,UAAU,EAAEJ,KAAK,CAACK,WAFP;AAGXL,QAAAA,KAAK,EAAE,KAAKP,WAAL,CAAiBa,UAAjB,CAA4BP,IAA5B,CAHI;AAIXQ,QAAAA,OAAO,EAAE,KAAKZ,aAAL,CAAmBa,YAAnB,CAAgCT,IAAhC,CAJE;AAKXU,QAAAA,KAAK,EAAE,KAAKZ,WAAL,CAAiBa,UAAjB,CAA4BX,IAA5B,CALI;AAMXY,QAAAA,iBAAiB,EAAEV;AANR,OAAR,CAAP;AAQH;AAED;AACJ;AACA;AACA;;;;iCACiBF,I,EAAM;AAAA,UACPa,SADO,GACOb,IADP,CACPa,SADO;AAGf,aAAO,oBAAQ;AACXC,QAAAA,aAAa,EAAED;AADJ,OAAR,CAAP;AAGH","sourcesContent":["import { omitNil } from '../../../common/utils';\nimport CustomerMapper from './customer-mapper';\nimport OrderMapper from './order-mapper';\nimport PaymentMapper from './payment-mapper';\nimport StoreMapper from './store-mapper';\n\nexport default class PayloadMapper {\n    /**\n     * @returns {PayloadMapper}\n     */\n    static create() {\n        const customerMapper = CustomerMapper.create();\n        const orderMapper = OrderMapper.create();\n        const paymentMapper = PaymentMapper.create();\n        const storeMapper = StoreMapper.create();\n\n        return new PayloadMapper(customerMapper, orderMapper, paymentMapper, storeMapper);\n    }\n\n    /**\n     * @param {CustomerMapper} customerMapper\n     * @param {OrderMapper} orderMapper\n     * @param {PaymentMapper} paymentMapper\n     * @param {StoreMapper} storeMapper\n     */\n    constructor(customerMapper, orderMapper, paymentMapper, storeMapper) {\n        /**\n         * @private\n         * @type {CustomerMapper}\n         */\n        this.customerMapper = customerMapper;\n\n        /**\n         * @private\n         * @type {OrderMapper}\n         */\n        this.orderMapper = orderMapper;\n\n        /**\n         * @private\n         * @type {PaymentMapper}\n         */\n        this.paymentMapper = paymentMapper;\n\n        /**\n         * @private\n         * @type {StoreMapper}\n         */\n        this.storeMapper = storeMapper;\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToPayload(data) {\n        const { order = {}, additionalAction } = data;\n\n        return omitNil({\n            customer: this.customerMapper.mapToCustomer(data),\n            notify_url: order.callbackUrl,\n            order: this.orderMapper.mapToOrder(data),\n            payment: this.paymentMapper.mapToPayment(data),\n            store: this.storeMapper.mapToStore(data),\n            additional_action: additionalAction,\n        });\n    }\n\n    /**\n     * @param {PaymentRequestData} data\n     * @returns {Object}\n     */\n    mapToHeaders(data) {\n        const { authToken } = data;\n\n        return omitNil({\n            Authorization: authToken,\n        });\n    }\n}\n"],"file":"payload-mapper.js"}